!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.VueMask={})}(this,function(e){"use strict";var t=function(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)},n="undefined"!=typeof window&&window.navigator.userAgent.toLowerCase(),a=n&&n.indexOf("edge/")>0,i=n&&n.indexOf("android")>0,r=n&&/chrome\/\d+/.test(n)&&!a;function u(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.value,u=e.dataset,o=u.previousValue,c=void 0===o?"":o,s=u.mask;(n||a&&a!==c&&a.length>c.length)&&(e.value=function(e,t){if(!t)return e;var n=/^([^#ANX]+)/;1==+e.length&&n.test(t)&&(e=n.exec(t)[0]+e);for(var a="",i=0,r=0;r<t.length;r+=1){var u=t.charAt(r);switch(u){case"#":case"A":case"?":case"N":case"X":break;default:e=e.replace(u,"")}}for(var o=0,c=1;c&&o<t.length;o+=1){var s=e.charAt(o-i),d=t.charAt(o);switch(d){case"#":/\d/.test(s)?a+=s:c=0;break;case"A":/[a-z]/i.test(s)?a+=s:c=0;break;case"N":/[a-z0-9]/i.test(s)?a+=s:c=0;break;case"?":i+=1;break;case"X":a+=s;break;default:a+=d,s&&s!==d&&(e=" "+e)}}return a}(a,s),i&&r?setTimeout(function(){return t(e,"input")},0):t(e,"input")),e.dataset.previousValue=a}function o(e,t){e.dataset.mask=t}var c={bind:function(e,t){var n=t.value;e instanceof HTMLInputElement||(e=e.querySelector("input")),o(e,n),u(e)},componentUpdated:function(e,t){var n=t.value,a=t.oldValue;e instanceof HTMLInputElement||(e=e.querySelector("input"));var i=n!==a;i&&o(e,n),u(e,i)}},s=function(e){e.directive("mask",c)};e.default=s,e.VueMaskPlugin=s,e.VueMaskDirective=c,Object.defineProperty(e,"__esModule",{value:!0})});
